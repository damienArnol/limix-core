language: python
sudo: required
dist: trusty
git:
  depth: 5
matrix:
  include:
  - python: 2.7
  - python: 3.5
  - python: 3.6
  - sudo: required
    services:
    - docker
    env: DOCKER_IMAGE=quay.io/pypa/manylinux1_x86_64
  - os: osx
    osx_image: xcode7.3
    language: generic
    sudo: required
    env: PYENV=py27
  - os: osx

    osx_image: xcode8.3
    language: generic
    sudo: required
    env: PYENV=py27
  - os: osx
    osx_image: xcode7.3
    language: generic
    sudo: required
    env: PYENV=py35
  - os: osx
    osx_image: xcode8.3
    language: generic
    sudo: required
    env: PYENV=py35
  - os: osx
    osx_image: xcode7.3
    language: generic
    sudo: required
    env: PYENV=py36
  - os: osx
    osx_image: xcode8.3
    language: generic
    sudo: required
    env: PYENV=py36
before_install:
- travis_retry bash <(curl -s https://raw.githubusercontent.com/limix/travis-tools/master/get-travis-tools.sh)
- travis_retry travis/before-install.sh
script:
- travis_retry travis/script.sh
after_success:
- travis_retry travis/after-success.sh
notifications:
  email: false
